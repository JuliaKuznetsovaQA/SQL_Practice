# База данных «Интернет-магазин книг», запросы корректировки

# Содержание
[Добавление записи в таблицу с использованием INSERT и SELECT](#T1)<br>
[Выбор 3 случайных вопросов для последнего студента. ORDER BY RAND()](#T2)<br>
[Создание таблицы, занесение констант и данные из других таблиц CREATE](#T3)<br>
[Запрос на добавление, занесение констант и данные из других таблиц JOIN](#T4)<br>
<br>

<a name="T1"></a>
# Задание

В таблицу attempt включить новую попытку для студента Баранова Павла по дисциплине «Основы баз данных». Установить текущую дату в качестве даты выполнения попытки.

Для того, чтобы вставить текущую дату используйте функцию NOW().

<img src="img/cx_4_3.jpg">

```sql
INSERT INTO attempt (student_id, subject_id, date_attempt) 
SELECT
    (SELECT student_id
    FROM student
    WHERE name_student = 'Баранов Павел'),
    (SELECT subject_id
     FROM subject
     WHERE name_subject = 'Основы баз данных'),
     NOW();
     
```

<a name="T2"></a>
### **Задание**
Случайным образом выбрать три вопроса (запрос) по дисциплине, тестирование по которой собирается проходить студент, занесенный в таблицу attempt последним, и добавить их в таблицу testing. id последней попытки получить как максимальное значение id из таблицы attempt.

```sql
INSERT INTO testing (attempt_id, question_id)
SELECT attempt_id, question_id
FROM question 
	JOIN attempt USING(subject_id)
WHERE attempt_id = (SELECT MAX(attempt_id)
		    FROM attempt)
ORDER BY RAND()
LIMIT 3;
```
